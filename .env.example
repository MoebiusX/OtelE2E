# ============================================
# Crypto Exchange - Environment Configuration
# ============================================
# Copy this file to .env and update with your values

# ============================================
# APPLICATION ENVIRONMENT
# ============================================
NODE_ENV=development                    # Options: development, production, test
HOST=0.0.0.0                           # Server host (default: 0.0.0.0)
PORT=5000                              # Server port (default: 5000)

# ============================================
# SECURITY (REQUIRED in production)
# ============================================
# Generate a secure JWT secret with: openssl rand -base64 32
JWT_SECRET=                                 # REQUIRED: JWT signing secret

# ============================================
# DATABASE (PostgreSQL)
# ============================================
DB_HOST=localhost                      # PostgreSQL host
DB_PORT=5433                          # PostgreSQL port (default: 5433)
DB_NAME=crypto_exchange               # Database name
DB_USER=exchange                      # Database user
DB_PASSWORD=                          # REQUIRED: Database password (no default)
DB_MAX_CONNECTIONS=20                 # Connection pool size (default: 20)
DB_IDLE_TIMEOUT_MS=30000             # Idle connection timeout in ms (default: 30000)
DB_CONNECTION_TIMEOUT_MS=2000        # Connection timeout in ms (default: 2000)

# ============================================
# RABBITMQ (Message Queue)
# ============================================
# Format: amqp://user:password@host:port
RABBITMQ_URL=                                      # REQUIRED: RabbitMQ connection URL
RABBITMQ_ORDERS_QUEUE=orders                       # Orders queue name (default: orders)
RABBITMQ_RESPONSE_QUEUE=order_response            # Response queue name (default: order_response)
RABBITMQ_LEGACY_QUEUE=payments                    # Legacy queue name (default: payments)
RABBITMQ_LEGACY_RESPONSE_QUEUE=payment_response  # Legacy response queue (default: payment_response)

# ============================================
# KONG API GATEWAY
# ============================================
KONG_GATEWAY_URL=http://localhost:8000  # Kong Gateway proxy URL
KONG_ADMIN_URL=http://localhost:8001    # Kong Admin API URL

# ============================================
# OBSERVABILITY & MONITORING
# ============================================
JAEGER_URL=http://localhost:16686      # Jaeger UI and API endpoint
PROMETHEUS_URL=http://localhost:9090   # Prometheus metrics endpoint
OTEL_COLLECTOR_URL=                    # Optional: OTEL Collector endpoint

# ============================================
# ALERTING & INCIDENT MANAGEMENT (GoAlert)
# ============================================
GOALERT_DB_PASSWORD=                   # REQUIRED for GoAlert: PostgreSQL password
GOALERT_PUBLIC_URL=http://localhost:8081  # GoAlert public URL
GOALERT_ENCRYPTION_KEY=                # REQUIRED: 32-byte hex key (openssl rand -hex 16)
ALERTMANAGER_GOALERT_TOKEN=            # GoAlert generic API token for Alertmanager

# ============================================
# MOBILE NOTIFICATIONS (ntfy.sh)
# ============================================
# Free push notifications via ntfy.sh - no account required
# Use a unique random topic name for security (it's your "password")
# Generate with: openssl rand -hex 8
NTFY_TOPIC=krystalinex-alerts-CHANGEME  # Your unique ntfy topic (e.g., krystalinex-abc123def456)
NTFY_SERVER=https://ntfy.sh             # Default: ntfy.sh (or self-hosted URL)

# ============================================
# AI/ML SERVICES (Optional)
# ============================================
# OLLAMA_URL=http://localhost:11434    # Ollama API endpoint (optional)
# OLLAMA_MODEL=llama3.2:1b            # Ollama model to use (default: llama3.2:1b)

# ============================================
# EMAIL/SMTP (Optional)
# ============================================
# SMTP_HOST=localhost                  # SMTP server host
# SMTP_PORT=1025                      # SMTP server port (default: 1025)
# SMTP_SECURE=false                   # Use TLS/SSL (true/false, default: false)
# SMTP_USER=                          # SMTP username (optional)
# SMTP_PASSWORD=                      # SMTP password (optional)

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info                        # Options: trace, debug, info, warn, error, fatal
LOG_PRETTY=true                       # Pretty print logs in development (true/false)

# ============================================
# FRONTEND (Vite) - Must be prefixed with VITE_
# ============================================
# These are for BROWSER access, so use external IP for network access
VITE_KONG_URL=http://localhost:8000    # Kong Gateway URL for API calls
VITE_API_URL=http://localhost:5000     # Direct server URL (fallback)
VITE_WS_URL=ws://localhost:5000        # WebSocket server URL
VITE_JAEGER_URL=http://localhost:16686 # Jaeger UI URL
VITE_OTEL_COLLECTOR_URL=http://localhost:4319  # OTEL collector URL (browser port)

# ============================================
# NOTES
# ============================================
# - All commented variables are optional
# - Default values are shown in comments
# - Boolean values should be 'true' or 'false' (lowercase)
# - URLs should include protocol (http:// or https://)
# - Never commit .env to version control
